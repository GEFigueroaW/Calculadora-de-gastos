<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Calculadora de Gastos Diarios</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/><script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script><style>body{background:#f9f9f9;padding-top:50px}.gasto-item{background-color:#fff;border-radius:12px;box-shadow:0 4px 8px rgba(0,0,0,.1);padding:15px;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center;transition:transform .3s ease}.gasto-item:hover{transform:scale(1.02)}.resumen{background:linear-gradient(135deg,#00c6ff,#0072ff);color:#fff;padding:20px;border-radius:12px;text-align:center;margin-top:20px;box-shadow:0 4px 8px rgba(0,0,0,.2)}.btn-agregar{background-color:#ff6b6b;border:none}.btn-agregar:hover{background-color:#ff4d4d}.btn-borrar,.btn-editar{background-color:#dc3545;border:none;color:#fff;border-radius:8px;padding:5px 10px;margin-left:5px}.btn-borrar:hover,.btn-editar:hover{background-color:#c82333}</style></head><body><div class="container"><h1 class="text-center mb-4 animate__animated animate__fadeInDown">Calculadora de Gastos Diarios</h1><div class="card p-4 mb-4 shadow-sm"><div class="mb-3"><label for="concepto" class="form-label">Concepto del gasto:</label><input type="text" class="form-control" id="concepto" placeholder="Ej: Café, Transporte, Comida"></div><div class="mb-3"><label for="monto" class="form-label">Monto ($ MXN):</label><input type="number" class="form-control" id="monto" placeholder="Ej: 50"></div><button class="btn btn-agregar w-100 animate__animated animate__fadeInUp animate__slow" onclick="a()">Agregar gasto</button></div><div id="b" class="mb-4"></div><div id="c" class="resumen animate__animated animate__fadeInUp">Total gastado: $0 MXN</div></div><script>let d=[];function a(){const e=document.getElementById("concepto").value.trim(),f=parseFloat(document.getElementById("monto").value.trim());if(""===e||isNaN(f)||f<=0){alert("Por favor ingresa un concepto válido y un monto mayor a 0.");return}Swal.fire({title:"¿La fecha del gasto es correcta?",input:"datetime-local",inputValue:new Date().toISOString().slice(0,16),showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Usar fecha actual"}).then(g=>{let h;h=g.isConfirmed&&g.value?g.value:new Date().toISOString().slice(0,16);d.push({concepto:e,monto:f,fecha:h}),document.getElementById("concepto").value="",document.getElementById("monto").value="",k(),l()})}function k(){const e=document.getElementById("b");e.innerHTML="",d.forEach((f,g)=>{const h=document.createElement("div");h.className="gasto-item",h.innerHTML=`<div><strong>${g+1}. ${f.concepto}</strong> - $${f.monto.toFixed(2)} MXN<br><small>${new Date(f.fecha).toLocaleString()}</small></div><div><button class="btn-editar btn btn-primary btn-sm" onclick="m(${g})">Editar</button><button class="btn-borrar btn btn-danger btn-sm" onclick="n(${g})">Borrar</button></div>`,e.appendChild(h),setTimeout(()=>{h.classList.add("animate__animated","animate__fadeInLeft")},100)})}function n(e){Swal.fire({title:"¿Eliminar gasto?",text:`Concepto: ${d[e].concepto} | Monto: $${d[e].monto.toFixed(2)} MXN\nFecha: ${new Date(d[e].fecha).toLocaleString()}`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"}).then(f=>{f.isConfirmed&&(o(e),Swal.fire("Eliminado","El gasto ha sido eliminado.","success"))})}function o(e){d.splice(e,1),k(),l()}function m(e){Swal.fire({title:"Editar gasto",html:`<input id="editConcepto" class="swal2-input" placeholder="Concepto" value="${d[e].concepto}"><input id="editMonto" type="number" class="swal2-input" placeholder="Monto" value="${d[e].monto}"><input id="editFecha" type="datetime-local" class="swal2-input" value="${d[e].fecha}">`,focusConfirm:!1,showCancelButton:!0,preConfirm:()=>{const f=document.getElementById("editConcepto").value,g=parseFloat(document.getElementById("editMonto").value),h=document.getElementById("editFecha").value;if(!f||isNaN(g)||g<=0||!h)return Swal.showValidationMessage("Por favor llena todos los campos correctamente");return{concepto:f,monto:g,fecha:h}}}).then(f=>{f.isConfirmed&&(d[e]=f.value,k(),l(),Swal.fire("Actualizado","El gasto ha sido actualizado.","success"))})}function l(){const e=d.reduce((f,g)=>f+g.monto,0),f=document.getElementById("c");f.textContent=`Total gastado: $${e.toFixed(2)} MXN`,f.classList.remove("animate__pulse"),void f.offsetWidth,f.classList.add("animate__pulse")}</script></body></html>
